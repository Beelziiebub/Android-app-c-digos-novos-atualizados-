package com.example.projeto;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;

public class BancoController extends SQLiteOpenHelper {

    private static final String DATABASE_NAME = "meuBanco.db";
    private static final int DATABASE_VERSION = 1;

    public BancoController(Context context) {
        super(context, DATABASE_NAME, null, DATABASE_VERSION);
    }

    @Override
    public void onCreate(SQLiteDatabase db) {
        // Criar as tabelas do banco
        String sqlCreateUsuarios = "CREATE TABLE usuarios (" +
                "idUsuario INTEGER PRIMARY KEY AUTOINCREMENT," +
                "nome TEXT," +
                "email TEXT," +
                "cpf TEXT," +
                "senha TEXT)";

        String sqlCreateTransacoes = "CREATE TABLE transacoes (" +
                "idTransacao INTEGER PRIMARY KEY AUTOINCREMENT," +
                "descricao TEXT," +
                "preco TEXT," +
                "tipoTransacao TEXT," +
                "metodoPagamento TEXT," +
                "email TEXT)";

        db.execSQL(sqlCreateUsuarios);
        db.execSQL(sqlCreateTransacoes);
    }

    @Override
    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
        // Aqui você pode realizar migrações do banco de dados se necessário
        db.execSQL("DROP TABLE IF EXISTS usuarios");
        db.execSQL("DROP TABLE IF EXISTS transacoes");
        onCreate(db);
    }

    // Essa função retorna o banco de dados no modo leitura e escrita
    @Override
    public SQLiteDatabase getWritableDatabase() {
        return super.getWritableDatabase();
    }
}
